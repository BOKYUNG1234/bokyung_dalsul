# Dalsul 프로젝트 규칙

이미지 파일 : images/폴더명/이미지이름.확장자
include 파일 : 폴더 분류(사진 참조)
JS관련 : 정규식 체크 function은 /resources/include/common/js/chkRegex.js 에 보관할 예정입니다. 정규식 함수 따로 빼주세요
view 파일 : src/main/webapp/WEB-INF/views/분류폴더명/파일.jsp 로 분류 부탁드립니다.
아울러 현재 프로젝트에 쓰이지 않는 파일, 패키지 등 모두 삭제해주세요 ex) com.dalsul의 webConfig, 타일즈관련 파일 등


#Dalsul 테이블 생성 구문
민준
-- ADDR Table
CREATE TABLE ADDR (
    ADDR_NO NUMBER NOT NULL,
    USER_NO NUMBER NOT NULL,
    POSTCODE VARCHAR2(255) NOT NULL,
    JIBUNADDRESS VARCHAR2(255) NOT NULL,
    ROADADDRESS VARCHAR2(255) NULL,
    DETAILADDRESS VARCHAR2(255) NULL,
    RECEIVER VARCHAR2(30) NULL,
    ADDR_NAME VARCHAR2(30) NULL,
    CONSTRAINT PK_ADDR PRIMARY KEY (ADDR_NO),
    CONSTRAINT FK_USER_NO_ADDR FOREIGN KEY (USER_NO) REFERENCES USERS (USER_NO)
);

COMMENT ON COLUMN ADDR.ADDR_NO IS '주소 고유 번호';
COMMENT ON COLUMN ADDR.USER_NO IS '회원 고유 번호';
COMMENT ON COLUMN ADDR.POSTCODE IS '우편번호';
COMMENT ON COLUMN ADDR.JIBUNADDRESS IS '지번 주소';
COMMENT ON COLUMN ADDR.ROADADDRESS IS '도로명 주소';
COMMENT ON COLUMN ADDR.DETAILADDRESS IS '상세 주소';
COMMENT ON COLUMN ADDR.RECEIVER IS '받는 사람';
COMMENT ON COLUMN ADDR.ADDR_NAME IS '주소 지별명';

CREATE SEQUENCE ADDR_SEQ
START WITH 1
INCREMENT BY 1
NOMAXVALUE
NOCYCLE;

-- COUPON Table
CREATE TABLE COUPON (
    COUPON_NO NUMBER NOT NULL,
    COUPON_NAME VARCHAR2(255) NOT NULL,
    COUPON_DISCOUNT NUMBER(10) NOT NULL,
    COUPON_DATE DATE DEFAULT SYSDATE NOT NULL,
    COUPON_LIMIT NUMBER(20) NOT NULL,
    COUPON_STATUS NUMBER(1) DEFAULT 1 NOT NULL,
    CONSTRAINT PK_COUPON PRIMARY KEY (COUPON_NO)
);

COMMENT ON COLUMN COUPON.COUPON_NO IS '쿠폰 고유 번호';
COMMENT ON COLUMN COUPON.COUPON_NAME IS '쿠폰 이름';
COMMENT ON COLUMN COUPON.COUPON_DISCOUNT IS '쿠폰 할인율 또는 절대 가격';
COMMENT ON COLUMN COUPON.COUPON_DATE IS '쿠폰 정보 생성일';
COMMENT ON COLUMN COUPON.COUPON_LIMIT IS '쿠폰 발급량';
COMMENT ON COLUMN COUPON.COUPON_STATUS IS '쿠폰 발급 가능 여부 (0: 비활성, 1: 활성)';

CREATE SEQUENCE COUPON_SEQ
START WITH 1
INCREMENT BY 1
NOMAXVALUE
NOCYCLE;

-- COUPON_RECEIVE Table
CREATE TABLE COUPON_RECEIVE (
    COUPON_RECEIVE_NO NUMBER NOT NULL,
    USER_NO NUMBER NOT NULL,
    COUPON_NO NUMBER NOT NULL,
    COUPON_RECIVE_DATE DATE DEFAULT SYSDATE NOT NULL,
    COUPON_RECIVE_STATUS NUMBER(1) DEFAULT 1 NOT NULL,
    CONSTRAINT PK_COUPON_RECEIVE PRIMARY KEY (COUPON_RECEIVE_NO),
    CONSTRAINT FK_USER_NO_COUPON_RECEIVE FOREIGN KEY (USER_NO) REFERENCES USERS (USER_NO),
    CONSTRAINT FK_COUPON_NO_COUPON_RECEIVE FOREIGN KEY (COUPON_NO) REFERENCES COUPON (COUPON_NO)
);

COMMENT ON COLUMN COUPON_RECEIVE.COUPON_RECEIVE_NO IS '쿠폰 수령 고유 번호';
COMMENT ON COLUMN COUPON_RECEIVE.USER_NO IS '회원 고유 번호';
COMMENT ON COLUMN COUPON_RECEIVE.COUPON_NO IS '쿠폰 고유 번호';
COMMENT ON COLUMN COUPON_RECEIVE.COUPON_RECIVE_DATE IS '쿠폰 수령일';
COMMENT ON COLUMN COUPON_RECEIVE.COUPON_RECIVE_STATUS IS '쿠폰 사용 가능 여부 (0: 비활성, 1: 활성)';

CREATE SEQUENCE COUPON_RECEIVE_SEQ
START WITH 1
INCREMENT BY 1
NOMAXVALUE
NOCYCLE;

-- COUPON_RECEIVE 테이블과 시퀀스 삭제
--DROP TABLE COUPON_RECEIVE;
--DROP SEQUENCE COUPON_RECEIVE_SEQ;

-- ADDR 테이블과 시퀀스 삭제
--DROP TABLE ADDR;
--DROP SEQUENCE ADDR_SEQ;

-- COUPON 테이블과 시퀀스 삭제
--DROP TABLE COUPON;
--DROP SEQUENCE COUPON_SEQ;

-- USERS 테이블과 시퀀스 삭제
--DROP TABLE USERS;
--DROP SEQUENCE USERS_SEQ;

민규
-- 제품테이블 생성
CREATE TABLE PRODUCT (
   PRODUCT_NO               NUMBER              NOT NULL,
   PRODUCT_NAME   VARCHAR2(75)      NOT NULL,
   PRODUCT_TYPE              VARCHAR2(30)      NOT NULL,
   PRODUCT_ML               VARCHAR2(30)      NOT NULL,
   PRODUCT_ALCOHOL           VARCHAR2(30)      NOT NULL,
   PRODUCT_SPARKLING       VARCHAR2(30)      NOT NULL,
   PRODUCT_TASTE           VARCHAR2(30)      NOT NULL,
   PRODUCT_BASE           VARCHAR2(30)      NOT NULL,
   PRODUCT_PRICE           NUMBER              NOT NULL,
   PRODUCT_STOCK           NUMBER              NOT NULL,
   PRODUCT_MAIN_IMAGE       VARCHAR2(255)      NOT NULL,
   PRODUCT_EXPLAIN_IMAGE   VARCHAR2(255)      NOT NULL,
   PRODUCT_REG_DATE       DATE     DEFAULT SYSDATE     NOT NULL,
   PRODUCT_UPDATE_REG_DATE   DATE    DEFAULT SYSDATE    NOT NULL
);

-- 제품 테이블 기본키 설정
ALTER TABLE PRODUCT ADD CONSTRAINT PRODUCT_PK PRIMARY KEY (
   PRODUCT_NO
);
